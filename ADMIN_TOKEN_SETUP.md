# Настройка безопасного токена между админкой и сайтом

## Как это работает

1. **Админка** генерирует или использует токен из переменной окружения `VITE_ADMIN_EDIT_TOKEN`
2. **Сайт** проверяет токен из переменной окружения `ADMIN_EDIT_TOKEN`
3. Если токены совпадают - доступ разрешен

## Настройка

### 1. В админке (Vercel)

Добавьте переменную окружения:
- **Name:** `VITE_ADMIN_EDIT_TOKEN`
- **Value:** сгенерируйте безопасный токен (например, используйте: `openssl rand -hex 32`)

### 2. На сайте (Vercel)

Добавьте переменную окружения:
- **Name:** `ADMIN_EDIT_TOKEN`
- **Value:** тот же токен, что и в админке

### 3. Генерация токена

Выполните в терминале:
```bash
openssl rand -hex 32
```

Или используйте онлайн генератор: https://www.random.org/strings/

**Важно:** Используйте один и тот же токен в обеих переменных окружения!

## Безопасность

- Токен хранится в переменных окружения (не в коде)
- Токен передается через URL (виден в логах, но это приемлемо для внутреннего использования)
- Можно регулярно менять токен для повышения безопасности

## Альтернатива: более безопасный подход

Для еще большей безопасности можно:
1. Использовать JWT токены с подписью
2. Передавать токен через postMessage вместо URL
3. Использовать временные токены с истечением срока действия

Но для начала текущего решения достаточно.

